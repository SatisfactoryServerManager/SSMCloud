{{define "includes/dashboard/page-header"}}
<div class="row page-header">
    <div class="d-flex align-items-center">
        <div class="flex-grow-1">
            <h3 class="m-0">{{.account.AccountName}} - {{ .pageTitle }}</h3>
        </div>
        <div
            class="status-info-card bg-primary border-primary text-default mb-0 mt-0 me-3"
        >
            <div class="status-info-card-icon text-default">
                <i class="fas fa-server mt-1"></i>
            </div>
            <div class="status-info-card-secondary">
                <span id="server-count">{{ len .agents }}</span>
            </div>
        </div>

        <a href="/auth/logout" class="btn btn-primary me-3 logout-btn">
            <i class="fa-solid fa-right-from-bracket mt-1"></i>
        </a>

        <div
            class="btn-group mt-0 profile-btn-group"
            role="group"
            aria-label="Button group with nested dropdown"
        >
            <a href="/dashboard/profile" class="btn w-100">{{.user.Username}}</a>
            <div class="btn-group" role="group">
                <button
                    id="btnGroupDrop1"
                    type="button"
                    class="btn dropdown-toggle"
                    data-bs-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                ></button>
                <ul class="dropdown-menu">
                    {{range .linkedAccounts}}
                        <li><a class="dropdown-item" href="/dashboard/account/switch?id={{OIDtoString .ID}}"><i class="fa-solid fa-building-shield me-2"></i> {{.AccountName}}</a></li>
                    {{end}}
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="/dashboard/account/create">Create Account</a></li>
                    <li><a class="dropdown-item" href="/dashboard/account/join">Join Account</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
{{ end }}
