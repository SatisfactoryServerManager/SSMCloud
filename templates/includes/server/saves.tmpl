{{define "includes/server/saves"}}

<div class="card border-secondary mb-3">
  <div class="card-header">
    <h5>Satisfactory Saves</h5>
  </div>
  <div class="card-body">
    <form id="save-upload-form" enctype="multipart/form-data" method="post" action="/dashboard/servers/{{.agent.Id}}/saves">
        {{ .csrfField }}
      <input type="hidden" name="inp_agentid" value="{{.agent.Id}}" />
      <fieldset>
        <div class="row">
          <div class="col-12 col-md-3">
            <b class="settings-prop">Save File:</b>
            <span class="settings-info">
              The save file (.sav) to upload
              to the server
            </span>
          </div>
          <div class="col-12 col-md-5">
            <div class="form-group">
              <input class="form-control" type="file" name="file" id="inp-save-file" accept=".sav" />
            </div>
          </div>
          <div class="col-12 col-md-2">
            <button class="btn btn-success btn-block" id="btn-save-upload">
              <i class="fas fa-upload"></i>
              Upload
            </button>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
</div>
<div class="card border-secondary mb-3">
  <div class="card-header">
    <h5>Save Files</h5>
  </div>
  <div class="card-body">
    {{if eq (len .agent.Saves) 0}}
    <p>There are currently no saves for this server yet.</p>
    {{end}}
    <div style="overflow-x: hidden;">
        <div class="row pe-3">
            {{ range .agent.Saves}}
                <div class="col-12 col-md-6 col-lg-4 col-xl-3 mb-3">
                    {{template "includes/dashboard/save-card" (dict "save" . "agent" $.agent)}}
                </div>
            {{end}}
        </div>
    </div>
</div>
</div>

{{end}}